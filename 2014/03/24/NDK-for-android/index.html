<!doctype html>
<html dir="ltr" lang="zh-CN">
<head>
<title>Django Web开发环境的搭建（二）</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
body {font:normal 12px/24px Arial, Helvetica, sans-serif; background:#D9F0DB;}
textarea,pre {font-family:Courier; font-size:12px;}
</style>
</head>
<body>
<p><a href="_index.htm">&lt;&lt;目录</a></p><p>本博文根据python2.7.3、Django1.7.1，运行环境为linux Ubuntu12.04，当然开始学习django是在win7 python2.7.8 Django1.7下搭建，后来发现在linux下开发可以省去一些default设置的修改，就转战linux学习。该博文针对win7，这一篇开始将细讲linux环境下开发</p>
<p></p>
<a id="more"></a>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
linux下django开发环境的搭建和windows下环境搭建类&#20284;，在命令下有一点出入，例如templates文件夹在win7下是得放在工程目录下（不太记得了），而linux得放在app目录下。二话不说，上图比说的更有说服力。</p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
1、目录结构</p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<img src="http://static.oschina.net/uploads/space/2014/1113/163001_rai3_262922.png" alt="" style="max-width:650px"></p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<img src="http://static.oschina.net/uploads/space/2014/1113/163001_f5RZ_262922.png" alt="" style="max-width:650px"></p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
mytest1为project，hello为app</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">django-admin&nbsp;startproject&nbsp;mytest1</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">django-admin startapp hello</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"></span>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">2、部署完后可以开始启动服务器了</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"><img src="http://static.oschina.net/uploads/space/2014/1113/163724_qVbT_262922.png" alt="" style="max-width:650px"></span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">当然可能会出现启动不成功的情况，在win7下也可能有遇到过，执行如下操作即可</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"><img src="http://static.oschina.net/uploads/space/2014/1113/163826_3k2n_262922.png" alt="" style="max-width:650px"></span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">3、说说view.py中怎样使用模板吧</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"></span>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">①from&nbsp;django.template&nbsp;import&nbsp;loader,Context</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">......</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">t=loader.get_template(‘index.html’)&nbsp;#&nbsp;&nbsp;<span style="font-family:宋体">等于&nbsp;</span><span style="font-family:'Times New Roman'">t=template.Template(</span>‘str’)</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">c=Context({})</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">html=t.render(c)</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">return&nbsp;HttpResponse(html)</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">②from&nbsp;django.shortcuts&nbsp;import&nbsp;render_to_response</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">......</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">return&nbsp;render_to_response(‘gujiawei.html’,{})</span></p>
<h3 style="font-size:18px; margin-top:10px; font-family:微软雅黑,Verdana,sans-serif,宋体">
<span style="font-family:宋体,SimSun">在稍后的文章中会专门浅谈利用模板与python交互的例子。</span></h3>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">4、多对多映射小记</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"><img src="http://static.oschina.net/uploads/space/2014/1113/164150_rAba_262922.png" alt="" style="max-width:650px"></span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"></span>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">author.objects.create(name=’Alen’)</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">....</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">authors=Author.objects.all()</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1=Book()</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1.name=’python&nbsp;book1’</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1.save()</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">alen=Author.objects.get(name__exact=’Alen’)</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1.authors.add(alen)&nbsp;&nbsp;#add&nbsp;remove&nbsp;filter(name__exact=’Alen’)...</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1.authors.add(authors[1])</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">....</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">b1.authors.all()</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">...</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">alen.book_set.all()&nbsp;alen.book_set.add(b1)&nbsp;&nbsp;</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px; text-indent:48px">
<span style="font-size:14px">alen.book_set.create(name=’python&nbsp;book2’)&nbsp;&nbsp;alen.book_set.remove()&nbsp;</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"></span>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">5、表单方法</span></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px">表单方法很有用，可以让javascript中操作得到的数据利用表单上传到服务器，进而操作数据库</span></p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<img src="http://static.oschina.net/uploads/space/2014/1113/164310_CKii_262922.png" width="556" height="219" alt="" style="max-width:650px"></p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
利用url<span style="font-family:宋体">默认为</span><span style="font-family:'Times New Roman'">get</span><span style="font-family:宋体">方法，</span><span style="font-family:'Times New Roman'">submit</span><span style="font-family:宋体">提交后为</span><span style="font-family:'Times New Roman'">POST</span><span style="font-family:宋体">方法</span></p>
<p style="margin-top:5px; margin-bottom:10px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<img src="http://static.oschina.net/uploads/space/2014/1113/164311_gI11_262922.png" alt="" style="max-width:650px"></p>
<p style="margin-top:0pt; margin-bottom:0pt; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-family:宋体">点击</span><span style="font-family:宋体">submit后会触发<span style="font-family:'Times New Roman'">post</span>方法。（<span style="font-family:'Times New Roman'">req.POST</span>参数能在用户输入为空的的时候反馈错误信息）</span></p>
<h3 style="font-size:18px; margin-top:10px; font-family:微软雅黑,Verdana,sans-serif,宋体">
<span style="font-family:宋体">在稍后的文章中会专门细讲利用表单成功操作数据库（mongodb）的案例。</span></h3>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
<span style="font-size:14px"></span>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; line-height:23px; font-family:微软雅黑,Verdana,sans-serif,宋体; font-size:13px">
&nbsp;</p>
<br><p>&nbsp;</p><p>原文：<a href="http://blog.csdn.net/gugugujiawei/article/details/41355711" target="_blank" rel="external">http://blog.csdn.net/gugugujiawei/article/details/41355711</a></p>
<p><a href="_index.htm">&lt;&lt;目录</a></p>
</body>
</html>